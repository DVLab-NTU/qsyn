DV Lab, NTUEE, Qsyn 0.5.1
qsyn> //-------------------------
qsyn> //  Help Message
qsyn> //-------------------------
qsyn> 
qsyn> help zx2ts
Usage: ZX2TS [-Zx <size_t id>] [-Ts <size_t id>] [-Replace]

Description:
  convert ZXGraph to tensor

Options:
  size_t  -Zx       id  the ID of the ZXGraph to be converted. If not specified, the focused ZXGraph is used 
  size_t  -Ts       id  the ID of the target tensor. If not specified, an ID is automatically assigned       
  flag    -Replace      replace the target tensor if the tensor ID is occupied                               


qsyn> 
qsyn> //-------------------------
qsyn> //  Command Behavior Test
qsyn> //-------------------------
qsyn> 
qsyn> zx2ts // don't do anything if there's no ZXGraph
[Error] ZXGraph list is empty. Please create a ZXGraph first!!

qsyn> 
qsyn> // creates some ZXGraph from a small circuit
qsyn> qccr benchmark/benchmark_SABRE/small/3_17_13.qasm

qsyn> qc2zx 

qsyn> zxcopy 1

qsyn> zxgs -interc

qsyn> zxprint -l
  0    3_17_13             QC2ZX
★ 1    3_17_13             QC2ZX ➔ INTERC

qsyn> 
qsyn> zx2ts       // should convert ZXGraph 1 to Tensor 0

qsyn> zx2ts -ts 2 // should convert ZXGraph 1 to Tensor 2

qsyn> zx2ts -zx 0 // should convert ZXGraph 0 to Tensor 3, without changing focused ZXGraph

qsyn> zxprint -l
  0    3_17_13             QC2ZX
★ 1    3_17_13             QC2ZX ➔ INTERC

qsyn> tsprint -l
  0    3_17_13             #Dim: 2   QC2ZX ➔ INTERC ➔ ZX2TS
  2    3_17_13             #Dim: 2   QC2ZX ➔ INTERC ➔ ZX2TS
★ 3    3_17_13             #Dim: 2   QC2ZX ➔ ZX2TS

qsyn> zx2ts -zx 2                // should log error: ZXGraph does not exist
[Error] ZXGraph 2 does not exist!!

qsyn> zx2ts -zx 0 -ts 2          // should log error: Tensor ID already occupied. In this case, the error should occur before trying to convert the tensor
[Error] Tensor 2 already exists!! Specify `-Replace` if you intend to replace the current one.

qsyn> zx2ts -zx 0 -ts 2 -replace // should replace Tensor 2 and convert ZXGraph 0 to Tensor 2

qsyn> tsprint -l
  0    3_17_13             #Dim: 2   QC2ZX ➔ INTERC ➔ ZX2TS
★ 2    3_17_13             #Dim: 2   QC2ZX ➔ ZX2TS
  3    3_17_13             #Dim: 2   QC2ZX ➔ ZX2TS

qsyn> 
qsyn> //-------------------------
qsyn> //  Logger Level Testing
qsyn> //-------------------------
qsyn> 
qsyn> zxgr benchmark/zx/cnot.zx

qsyn> logger level trace
[Debug] Setting logger level to trace

qsyn> zx2ts
[Info] Converting ZXGraph 2 to Tensor 4...
[Debug] Mapping vertex    0 (●): New Subgraph
[Debug] Done. Current tensor dimension: 2
[Trace] Current frontiers:
[Trace]   0--2 (-) axis id: 1
[Debug] Mapping vertex    2 (Z): Tensordot
[Debug] Done. Current tensor dimension: 3
[Trace] Current frontiers:
[Trace]   2--3 (-) axis id: 1
[Trace]   2--4 (-) axis id: 2
[Debug] Mapping vertex    3 (X): Tensordot
[Debug] Done. Current tensor dimension: 4
[Trace] Current frontiers:
[Trace]   2--4 (-) axis id: 1
[Trace]   1--3 (-) axis id: 2
[Trace]   3--5 (-) axis id: 3
[Debug] Mapping vertex    1 (●): Boundary
[Debug] Done. Current tensor dimension: 4
[Trace] Current frontiers:
[Trace]   2--4 (-) axis id: 1
[Trace]   1--3 (-) axis id: 2
[Trace]   3--5 (-) axis id: 3
[Debug] Mapping vertex    5 (●): Boundary
[Debug] Done. Current tensor dimension: 4
[Trace] Current frontiers:
[Trace]   2--4 (-) axis id: 1
[Trace]   1--3 (-) axis id: 2
[Trace]   3--5 (-) axis id: 3
[Debug] Mapping vertex    4 (●): Boundary
[Debug] Done. Current tensor dimension: 4
[Trace] Current frontiers:
[Trace]   2--4 (-) axis id: 1
[Trace]   1--3 (-) axis id: 2
[Trace]   3--5 (-) axis id: 3
[Trace] Input  Axis IDs: 0 2
[Trace] Output Axis IDs: 1 3
[Info] Successfully created and checked out to Tensor 4

qsyn> 
qsyn> qq -f

